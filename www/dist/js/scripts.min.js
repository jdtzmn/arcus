var lock=null,validToken=!1,auth0={get:function(e){$.ajax({url:"/api/get",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+localStorage.getItem("userToken"))}}).done(function(o){e(o)})},update:function(e,o){$.ajax({url:"/api/update?body="+JSON.stringify({servers:e}),beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+localStorage.getItem("userToken"))}}).done(function(e){o(e)})},add:function(e,o,t){auth0.get(function(n){var r=n.body.servers;r.push({name:e,ip:o}),auth0.update(r,function(e){e.success===!0?t(e):console.log(new Error(e.statusCode,e.body))})})},remove:function(e,o){auth0.get(function(t){var n=t.body.servers;if("string"==typeof e)for(var r=0;r<n.length;r++)n[r].name===e&&n.splice(r,1);else"number"==typeof e&&n.splice(e,1);auth0.update(n,function(e){e.success===!0?o(e):console.log(new Error(e.statusCode,e.body))})})}};$(document).ready(function(){null!==window.localStorage.getItem("userToken")?($.ajax({url:"https://arcus.auth0.com/userinfo",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+localStorage.getItem("userToken"))}}).done(function(e){validToken=!0,$(".login-span").stop().hide(0).text("Logout").fadeIn(),$(".login-span-sm").stop().hide(0).text(", Logout").fadeIn(),$(".user").stop().hide(0).text("Signed in as: "+e.phone_number).fadeIn(),$(".login").not(".login-sm").removeClass("btn-primary"),$(".login").not(".login-sm").addClass("btn-default")}).fail(function(){window.localStorage.removeItem("userToken"),servers.render()}),auth0.get(function(e){window.localStorage.setItem("servers",JSON.stringify(e.body.servers)),servers.render()})):servers.render(),$(".login").click(function(){return"Logout"===$(".login").text()||", Logout"===$(".login-sm").text()?(window.localStorage.removeItem("userToken"),window.localStorage.removeItem("smsCred"),void window.location.replace("/")):(lock=new Auth0LockPasswordless("qB53zH4XKon2YWheT9dXixXjyvEoy0Sq","arcus.auth0.com"),void lock.sms({callbackURL:"",authParams:{scope:"openid profile"},autoclose:!0},function(e,o,t,n,r,a){e||(window.localStorage.setItem("userToken",n),window.location.replace("/"))}))})});
$(document).ready(function(){$(".add").popover({html:!0,placement:"bottom",trigger:"manual",container:"body",content:function(){return $("#popover-content").html()}}),$(".add-text").popover({html:!0,placement:"bottom",trigger:"manual",content:function(){return $("#popover-content").html()}}),$(".add, .remove").keyup(function(e){32==e.keyCode&&$(this).click()}),$(".add, .add-text").click(function(){$(this).blur(),$(".cancel:visible").animate({width:"hide"}),$(this).popover("toggle"),$(".popover").find("#name").focus(),$(".add-server").click(function(e){return""===$(".popover").find("#name").val()&&($(".popover").find("#name").addClass("animated shake"),$(".popover").find("#name").parent().parent().addClass("has-error"),setTimeout(function(){$(".popover").find("#name").removeClass("animated shake")},1e3)),""===$(".popover").find("#ip").val()?($(".popover").find("#ip").addClass("animated shake"),$(".popover").find("#ip").parent().parent().addClass("has-error"),setTimeout(function(){$(".popover").find("#ip").removeClass("animated shake")},1e3)):""!==$(".popover").find("#ip").val()&&""!==$(".popover").find("#name").val()&&(servers.add($(".popover").find("#name").val(),$(".popover").find("#ip").val()),$(this).parents(".popover").popover("hide"),$(".navbar-collapse").collapse("hide"),servers.render()),!1}),$(".add-server").mouseup(function(e){return e.preventDefault(),!1}),$(".cancel-popover").click(function(){$(".cancel-popover:visible").parents(".popover").popover("hide")})}),$(".remove").click(function(e){$(this).blur(),$(".cancel").animate({width:"toggle"}),e.stopPropagation()}),$(document).click(function(){$(".cancel:visible").animate({width:"hide"})}),$(".delete").click(function(e){servers.remove($("tbody > tr").index($(this).parents("tr"))),servers.render(),e.stopPropagation()});var e={},o="";$(document).keydown(function(n){e[String.fromCharCode(n.keyCode)]||(e[String.fromCharCode(n.keyCode)]=!0,27===n.keyCode&&($(".cancel:visible").animate({width:"hide"}),$(".cancel-popover:visible").parents(".popover").popover("hide")),!e.R||isNaN(String.fromCharCode(n.keyCode))||$("input").is(":focus")||(o+=String.fromCharCode(n.keyCode)),78!==n.keyCode||$("input").is(":focus")||($(".add").click(),n.preventDefault()))}),$(document).keyup(function(n){return"R"!==String.fromCharCode(n.keyCode)||""===o||$("input").is(":focus")?(82!==n.keyCode||$("input").is(":focus")||$(".cancel").animate({width:"toggle"}),void(e[String.fromCharCode(n.keyCode)]=!1)):(servers.remove(+o-1),servers.render(),void(o=""))}),$(".navbar-collapse .remove, .login-sm").click("li",function(){$(".navbar-collapse").collapse("hide")})});
!function(t){"use strict";var o=function(o,s){this.el=t(o),this.options=t.extend({},t.fn.typed.defaults,s),this.text=this.el.text(),this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backDelay=this.options.backDelay,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.string=this.strings[this.arrayPos],this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=1,this.loop===!1?this.stopArray=this.strings.length-1:this.stopArray=this.strings.length,this.build()};o.prototype={constructor:o,init:function(){var t=this;setTimeout(function(){t.typewrite(t.string,t.strPos)},t.startDelay)},build:function(){this.init()},typewrite:function(t,o){var s=Math.round(70*Math.random())+this.typeSpeed,i=this;setTimeout(function(){if(i.arrayPos<i.strings.length){if(i.el.attr("placeholder",t.substr(0,o)),o>t.length&&i.arrayPos<i.stopArray){clearTimeout(s);var s=setTimeout(function(){i.backspace(t,o)},i.backDelay)}else if(o++,i.typewrite(t,o),i.loop===!1&&i.arrayPos===i.stopArray&&o===t.length){var s=i.options.callback();clearTimeout(s)}}else i.loop===!0&&i.loopCount===!1?(i.arrayPos=0,i.init()):i.loopCount!==!1&&i.curLoop<i.loopCount&&(i.arrayPos=0,i.curLoop=i.curLoop+1,i.init())},s)},backspace:function(t,o){var s=Math.round(70*Math.random())+this.typeSpeed,i=this;setTimeout(function(){if(i.el.attr("placeholder",t.substr(0,o)),o>i.stopNum)o--,i.backspace(t,o);else if(o<=i.stopNum){clearTimeout(s);var s=i.arrayPos=i.arrayPos+1;i.typewrite(i.strings[i.arrayPos],o)}},s)}},t.fn.typed=function(s){return this.each(function(){var i=t(this),e=i.data("typed"),a="object"==typeof s&&s;e||i.data("typed",e=new o(this,a)),"string"==typeof s&&e[s]()})},t.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],typeSpeed:0,startDelay:0,backDelay:500,loop:!1,loopCount:!1,callback:function(){}}}(window.jQuery);
var watching,servers={get:function(){var e=JSON.parse(window.localStorage.getItem("servers"))||[];return e},add:function(e,t){validToken&&auth0.add(e,t,function(){auth0.get(function(e){window.localStorage.setItem("servers",JSON.stringify(e.body.servers)),servers.render()})});var n=servers.get();return n.push({name:e,ip:t}),window.localStorage.setItem("servers",JSON.stringify(n)),n},remove:function(e){validToken&&auth0.remove(e,function(){auth0.get(function(e){window.localStorage.setItem("servers",JSON.stringify(e.body.servers)),servers.render()})});var t=servers.get();if("string"==typeof e){for(var n=0;n<t.length;n++)if(t[n].name===e)return t.splice(n,1),window.localStorage.setItem("servers",JSON.stringify(t)),t}else if("number"==typeof e)return t.splice(e,1),window.localStorage.setItem("servers",JSON.stringify(t)),t},render:function(){servers.get().length>0?($(".nothing").hide(),$(".data").fadeIn(),$(".servers").hide().render(servers.get(),{cancel:{style:function(){return"display: none"}}}).fadeIn()):0===servers.get().length&&($(".data").hide(),$(".nothing").fadeIn()),servers.watch()},watch:function(){mcstatus(servers.get(),function(e){e instanceof Error?console.log(e):servers.notify(e)}),clearInterval(watching),watching=setInterval(function(){mcstatus(servers.get(),function(e){e instanceof Error?console.log(e):servers.notify(e)})},5e3)},notify:function(e){PNotify.prototype.options.styling="fontawesome",PNotify.desktop.permission(),validToken?$.ajax({url:"/api/notify?msg="+e,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+localStorage.getItem("userToken"))}}).done(function(t){new PNotify({title:"Arcus",text:e,type:"info",icon:!1,mouse_reset:!1,desktop:{desktop:!0,icon:!1},nonblock:{nonblock:!0},mobile:{swipe_dismiss:!0,styling:!0}})}):new PNotify({title:"Arcus",text:e,type:"info",icon:!1,mouse_reset:!1,desktop:{desktop:!0,icon:!1},nonblock:{nonblock:!0},mobile:{swipe_dismiss:!0,styling:!0}})}};
//# sourceMappingURL=scripts.min.js.map
